<!DOCTYPE html>
<html>
<head>
  <title>Wallet Generator</title>
  <script src="https://cdn.jsdelivr.net/npm/ethers@6.8.1/dist/ethers.umd.min.js"></script>
</head>
<body>
  <h2>T·∫°o v√≠ Ethereum</h2>
  <button onclick="generateWallet()">T·∫°o v√≠ ng·∫´u nhi√™n</button>
  <br><br>
  <input type="file" id="targetFile" />
  <br><br>
  <div id="result"></div>

  <script>
    let targetAddresses = [];

    document.getElementById("targetFile").addEventListener("change", function(event) {
      const reader = new FileReader();
      reader.onload = function(e) {
        targetAddresses = e.target.result.split(/\r?\n/).map(s => s.trim().toLowerCase());
        alert("T·∫£i file target th√†nh c√¥ng!");
      };
      reader.readAsText(event.target.files[0]);
    });

    async function generateWallet() {
      const wallet = ethers.Wallet.createRandom();
      const textContent = `Address: ${wallet.address}\nPrivate Key: ${wallet.privateKey}`;
      const blob = new Blob([textContent], { type: "text/plain" });

      const link = document.createElement("a");
      link.href = URL.createObjectURL(blob);
      link.download = `wallet_${wallet.address.slice(2, 8)}.txt`;
      link.textContent = "T·∫£i wallet";

      let result = document.getElementById("result");
      result.innerHTML = `<p>ƒê·ªãa ch·ªâ: ${wallet.address}</p>`;
      result.appendChild(link);

      if (targetAddresses.includes(wallet.address.toLowerCase())) {
        const matchBlob = new Blob([textContent], { type: "text/plain" });
        const matchLink = document.createElement("a");
        matchLink.href = URL.createObjectURL(matchBlob);
        matchLink.download = "match.txt";
        matchLink.textContent = "üéØ V√≠ n√†y tr√πng! T·∫£i match.txt";
        result.appendChild(document.createElement("br"));
        result.appendChild(matchLink);
        alert("üéâ Tr√πng v√≠ target!");
      }
    }
  </script>
</body>
</html>
